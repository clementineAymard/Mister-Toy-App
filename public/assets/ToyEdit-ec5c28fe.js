import{_ as w,s as _,i as f,r,o as i,c as a,b as y,w as p,a as s,f as l,d,v as u,j as k,F as b,g as x,h as V}from"./index-d0bc6efd.js";const v={data(){return{newToy:null,isStockToggled:!1}},created(){const{toyId:n}=this.$route.params;n?(this.$store.dispatch({type:"setCurrToy",toyId:n}).then(()=>this.newToy={...this.$store.getters.currToy}),console.log(n)):(this.$store.dispatch({type:"getEmptyToy"}),this.newToy={...this.emptyToy})},methods:{editToy(){this.newToy.inStock===""&&(this.newToy.inStock=!1),this.$store.dispatch({type:"editToy",newToy:{...this.newToy},isStockToggled:this.isStockToggled}).then(()=>{_("Edited toy"),this.$router.push("/toys")}).catch(n=>f("Failed to edit toy"))}},computed:{labels(){return console.log([...this.$store.getters.labels]),[...this.$store.getters.labels]},emptyToy(){return this.$store.getters.emptyToy}}},S={key:0,class:"toy-edit"},U={class:"flex-column align-center"},j={key:0},C={key:1},E={class:"inputs flex-column"},N={class:"flex justify-between gap"},B={class:"flex justify-between gap"},L={class:"flex justify-between gap"},I={class:"flex justify-between gap"},F={class:"flex justify-between gap"};function M(n,t,R,A,o,c){const m=r("RouterLink"),T=r("el-checkbox"),h=r("el-option"),g=r("el-select");return o.newToy?(i(),a("section",S,[y(m,{to:"/toys"},{default:p(()=>[l("Back")]),_:1}),s("div",U,[s("h1",null,[this.$route.params.toyId?(i(),a("span",j,"Edit")):(i(),a("span",C,"Add")),l(" toy")]),s("div",E,[s("label",N,[l(" Name: "),d(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>o.newToy.name=e),class:"grow"},null,512),[[u,o.newToy.name]])]),s("label",B,[l(" Price: "),d(s("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>o.newToy.price=e),class:"grow"},null,512),[[u,o.newToy.price]])]),s("label",L,[y(T,{modelValue:o.newToy.inStock,"onUpdate:modelValue":t[2]||(t[2]=e=>o.newToy.inStock=e),label:"Toy in stock?",id:"inStock",onChange:t[3]||(t[3]=e=>!o.isStockToggled)},null,8,["modelValue"])]),s("div",I,[l(" Labels: "),y(g,{modelValue:o.newToy.labels,"onUpdate:modelValue":t[4]||(t[4]=e=>o.newToy.labels=e),multiple:"",placeholder:"None",style:{width:"240px"}},{default:p(()=>[(i(!0),a(b,null,x(c.labels,e=>(i(),V(h,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("label",F,[l(" Image URL: "),d(s("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>o.newToy.imageUrl=e)},null,512),[[u,o.newToy.imageUrl]])]),s("button",{onClick:t[6]||(t[6]=(...e)=>c.editToy&&c.editToy(...e))},"Save")])])])):k("",!0)}const P=w(v,[["render",M]]);export{P as default};
