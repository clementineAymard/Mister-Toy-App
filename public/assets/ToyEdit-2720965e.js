import{_ as h,s as _,i as f,r,o as i,c as a,b as y,w as p,a as s,f as l,d,v as u,e as k,j as b,F as x,g as V,h as v}from"./index-922a364f.js";const S={data(){return{newToy:null,isStockToggled:!1}},async created(){const{toyId:n}=this.$route.params;if(n)try{await this.$store.dispatch({type:"setCurrToy",toyId:n}),this.newToy={...this.$store.getters.currToy},console.log("current toy ID: ",n)}catch(e){console.log("Failed to get toy by ID ",e)}else try{await this.$store.dispatch({type:"getEmptyToy"}),this.newToy={...this.emptyToy},console.log("Got empty toy")}catch(e){console.log("Failed to get EMPTY toy",e)}},methods:{async editToy(){this.newToy.inStock===""&&(this.newToy.inStock=!1);try{await this.$store.dispatch({type:"editToy",newToy:{...this.newToy},isStockToggled:this.isStockToggled}),_("Edited toy")}catch{f("Failed to edit toy")}}},computed:{labels(){return console.log([...this.$store.getters.labels]),[...this.$store.getters.labels]},emptyToy(){return this.$store.getters.emptyToy}}},U={key:0,class:"toy-edit"},E={class:"flex-column align-center"},j={key:0},C={key:1},I={class:"inputs flex-column"},N={class:"flex justify-between gap"},B={class:"flex justify-between gap"},F={class:"flex justify-between gap"},L={class:"flex justify-between gap"},M={class:"flex justify-between gap"};function D(n,e,R,P,o,c){const m=r("RouterLink"),T=r("el-checkbox"),g=r("el-option"),w=r("el-select");return o.newToy?(i(),a("section",U,[y(m,{to:"/toys"},{default:p(()=>[l("Back")]),_:1}),s("div",E,[s("h1",null,[this.$route.params.toyId?(i(),a("span",j,"Edit")):(i(),a("span",C,"Add")),l(" toy")]),s("div",I,[s("label",N,[l(" Name: "),d(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.newToy.name=t),class:"grow"},null,512),[[u,o.newToy.name]])]),s("label",B,[l(" Price: "),d(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>o.newToy.price=t),class:"grow"},null,512),[[u,o.newToy.price]])]),s("label",F,[y(T,{modelValue:o.newToy.inStock,"onUpdate:modelValue":e[2]||(e[2]=t=>o.newToy.inStock=t),label:"Toy in stock?",id:"inStock",onChange:e[3]||(e[3]=t=>!o.isStockToggled)},null,8,["modelValue"])]),s("div",L,[l(" Labels: "),y(w,{modelValue:o.newToy.labels,"onUpdate:modelValue":e[4]||(e[4]=t=>o.newToy.labels=t),multiple:"",placeholder:"None",style:{width:"240px"}},{default:p(()=>[(i(!0),a(x,null,V(c.labels,t=>(i(),v(g,{key:t,label:t,value:t},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("label",M,[l(" Image URL: "),d(s("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>o.newToy.imageUrl=t)},null,512),[[u,o.newToy.imageUrl]])]),s("button",{onClick:e[6]||(e[6]=k((...t)=>c.editToy&&c.editToy(...t),["stop"]))},"Save")])])])):b("",!0)}const G=h(S,[["render",D]]);export{G as default};
